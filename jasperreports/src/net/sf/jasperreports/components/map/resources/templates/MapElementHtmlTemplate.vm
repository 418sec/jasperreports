#if (${divId} && ${divClass})
	<div id='${divId}' class='${divClass}'
#else 
	<div
#end
#if(${xhtml})
		style='position: absolute; left: ${elementX}; top: ${elementY}; width: ${elementWidth}px; height: ${elementHeight}px;
#else
		style='width: ${elementWidth}px; height: ${elementHeight}px;
#end
		#if(${backgroundColor}) 
			background-color: \#${backgroundColor};
		#end
	'>
		<div id='map_canvas' style='width: 100%; height: 100%; overflow: auto'></div>
	</div>

<script type='text/javascript'>
	JasperReports.modules.global.appendScriptElementToDOM('_mapScript', '${resourceMapJs}', function() {
		var jm = JasperReports.modules.map; 
		
		jm.callback = function () {
			var gg = google.maps,
				latlng = new gg.LatLng('${latitude}', '${longitude}'),  
				myOptions = {
					zoom: ${zoom},
					center: latlng, 
					mapTypeId: google.maps.MapTypeId.ROADMAP 
				},
				map = new gg.Map(document.getElementById('map_canvas'), myOptions);
		} 
		
		jm.init();
		
	});
</script>